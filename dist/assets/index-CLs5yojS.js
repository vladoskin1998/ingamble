import{u as T,n as W,r as n,f as B,j as e,h as R,W as V,C as M,o as H,L as C,l as L,e as D,N as O,p as U,q as k,t as q,$ as Q}from"./index-BkMcPxXb.js";import{F as Y,l as P}from"./lodash-Dnm7MmH_.js";import{rankCasinosSeeAll as G,WithdrawalSeeAllCasinos as J}from"./index-dTIqYpTi.js";import{P as K}from"./PaginationPage-DvRpCIkI.js";import"./BreadCrumb-BPUd2wJC.js";const X=({filtersDataLicenses:l,casinoFiltersLicenses:o,itemLicenses:i})=>{const[t,r]=n.useState(void 0);return n.useEffect(()=>{const _=setTimeout(()=>{const p=(l==null?void 0:l.find(m=>(m==null?void 0:m.id)===(o==null?void 0:o[0])))||(i==null?void 0:i[0]);r(p)},1e3);return()=>clearTimeout(_)},[l,o,i]),e.jsx("div",{className:"item-info-content-item-loyaltie-programs__value",children:e.jsxs(e.Fragment,{children:[U(t==null?void 0:t.name,15),e.jsx("span",{className:"item-info-content-item-loyaltie-programs__value-flag",children:(t==null?void 0:t.image)&&e.jsx("img",{src:t.image,alt:t.name||""})})]})})},E=15,Z=P.debounce((l,o)=>o(l),1e3),ee=P.debounce((l,o,i,t)=>{t||i(!0),o(l).finally(()=>i(!1))}),ae=async(l,o)=>{const i=q(l);return(await Q.post(`filter/casinos/?page=${o}&page_size=${E}`,i)).data};function ne(){document.title="Filter Casino";const{initializeAdaptiveBehavior:l}=T(),{data:o,casinoFilters:i,setCasinoFilters:t}=W(),[r,_]=n.useState(1),[p,m]=n.useState([]),[c,S]=n.useState(window.innerWidth<900),[A,F]=n.useState(!0),{data:s,isLoading:$,refetch:g}=B(["filter/casinos",i,r],()=>ae(i,r),{keepPreviousData:!0,enabled:!1});n.useEffect(()=>{ee(i,g,F,c)},[r,g,_]),n.useEffect(()=>{Z(i,g),c||window.scrollTo({behavior:"smooth",top:0})},[i,g]),n.useEffect(()=>{s!=null&&s.results&&c&&m(a=>[...a,...s==null?void 0:s.results]),!p.length&&(s!=null&&s.results)&&m(s==null?void 0:s.results)},[s]),n.useEffect(()=>{l()},[$]),n.useEffect(()=>{const a=()=>S(window.innerWidth<900);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const f=c?p:s==null?void 0:s.results,z=()=>{t(k)},I=a=>{const u=k[a];t(h=>({...h,[a]:u}))};return A?e.jsx(R,{}):e.jsx(V,{children:e.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered",children:e.jsxs("div",{className:"main-gamble__body",children:[e.jsx(M,{category:[{name:"All"},{name:"Hot Events"},{name:"Best Cash Back Casinos"},{name:"Highest RTP Slots"},{name:"No Deposit Bonuses"},{name:"VPN Allowed Casinos"}]}),e.jsx(Y,{initList:i,clearAll:z,clearOne:a=>I(a)}),e.jsx("section",{className:"casinos-filtered__main main-loyaltie-programs",children:e.jsxs("div",{className:"main-loyaltie-programs__container container",children:[e.jsx("div",{className:"results-filter-scenarios__top top",children:e.jsxs("div",{className:"top__title-block",children:[e.jsx("span",{className:"top__title-icon",children:e.jsx("img",{src:H,alt:"search"})}),e.jsx("h2",{className:"top__title",children:"Results"})]})}),e.jsx("div",{className:"main-loyaltie-programs__items loyaltie-programs__items",children:f==null?void 0:f.map(a=>{var u,h,y,x,v,j,N,b,w;return e.jsx("div",{className:"loyaltie-programs__item item-loyaltie-programs",children:e.jsxs("div",{className:"item-loyaltie-programs__row",children:[e.jsx("div",{className:"item-loyaltie-programs__main",children:e.jsx("div",{"aria-label":"Put your description here.",className:"item-loyaltie-programs__image item-loyaltie-programs__image-custom",children:e.jsx(C,{img:(a==null?void 0:a.casino_image)||"",width:"100%"})})}),e.jsx("div",{className:"item-loyaltie-programs__content content-item-loyaltie-programs",children:e.jsxs("div",{className:"content-item-loyaltie-programs__row",children:[e.jsxs("div",{className:"content-item-loyaltie-programs__column content-item-loyaltie-programs__column_main",children:[e.jsxs("div",{className:"content-item-loyaltie-programs__top top-content-item-loyaltie-programs",children:[e.jsx("h2",{className:"top-content-item-loyaltie-programs__name",children:a.casino_name}),e.jsxs("div",{className:"info-casino-card__likes",children:[e.jsx("span",{className:"info-casino-card__likes-icon",children:e.jsx("img",{src:L,alt:"like"})}),e.jsx("span",{className:"info-casino-card__likes-number",children:a==null?void 0:a.likes})]})]}),e.jsx("div",{className:"content-item-loyaltie-programs__info info-content-item-loyaltie-programs",children:e.jsxs("div",{className:"info-content-item-loyaltie-programs__row",children:[e.jsxs("div",{className:"info-content-item-loyaltie-programs__column",children:[e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs item-info-content-item-loyaltie-programs_index-high",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"Safety Index"}),e.jsxs("div",{className:"item-info-content-item-loyaltie-programs__value",children:[a.casino_rank,e.jsx("span",{className:"item-info-content-item-loyaltie-programs__value-index",children:G(Number(a.casino_rank))})]})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"Min Dep"}),e.jsx("div",{className:"item-info-content-item-loyaltie-programs__value",children:(h=(u=a.min_dep)==null?void 0:u[0])!=null&&h.value?`${(x=(y=a.min_dep)==null?void 0:y[0])==null?void 0:x.value} ${D()}`:"Unlimited"})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"License"}),e.jsx(X,{filtersDataLicenses:o==null?void 0:o.casino.licenses,casinoFiltersLicenses:i.licenses,itemLicenses:a.licenses})]})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__column",children:[e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"Withdrawal Limit:"}),e.jsx("div",{className:"item-info-content-item-loyaltie-programs__value",children:`${O(((v=a==null?void 0:a.withdrawal_limit)==null?void 0:v.monthly)||((j=a==null?void 0:a.withdrawal_limit)==null?void 0:j.weekly)||((N=a==null?void 0:a.withdrawal_limit)==null?void 0:N.daily)||"Unlimited")} ${J(a==null?void 0:a.withdrawal_limit)}`})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"Payout Speed"}),e.jsx("div",{className:`item-info-content-item-loyaltie-programs__value item-info-content-item-loyaltie-programs__value_${a.payout_speed.toLocaleLowerCase()}`,children:a.payout_speed})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"VPN Allowed"}),e.jsx("div",{className:`item-info-content-item-loyaltie-programs__value item-info-content-item-loyaltie-programs__value_${a.vpn_usage?"yes":"no"}`,children:a.vpn_usage?"Yes":"No"})]})]})]})}),e.jsx("div",{className:"content-item-loyaltie-programs__bottom bottom-content-item-loyaltie-programs",children:e.jsxs("div",{className:"bottom-content-item-loyaltie-programs__btns",children:[e.jsx("a",{href:a.casino_affiliate_link,target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-view",children:"View Casino"}),e.jsx("a",{href:"/loyaltie",target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-more",children:"Read More"})]})})]}),e.jsx("div",{className:"content-item-loyaltie-programs__column content-item-loyaltie-programs__column_features",children:e.jsx("div",{className:"content-item-loyaltie-programs__features features-essential-programs-gamble",children:(w=(b=a==null?void 0:a.loyalty_program)==null?void 0:b.loyalty_keypoint)==null?void 0:w.slice(0,3).map(d=>e.jsx("div",{className:"features-essential-programs-gamble__column",children:e.jsxs("div",{className:"features-essential-programs-gamble__item",children:[e.jsx("div",{className:"features-essential-programs-gamble__icon",children:e.jsx(C,{img:(d==null?void 0:d.image)||"",size:"medium",width:"100%"})}),e.jsxs("div",{className:"features-essential-programs-gamble__info",children:[e.jsx("div",{className:"features-essential-programs-gamble__name",children:d.text_1}),e.jsx("div",{className:"features-essential-programs-gamble__text",children:d.text_2})]})]})}))})})]})})]})},(a==null?void 0:a.casino_id)+(a==null?void 0:a.casino_image))})}),e.jsx(K,{countElem:s==null?void 0:s.count,currentPage:r,countPageElem:E,setCurrentPage:a=>{_(a),c||window.scrollTo({behavior:"smooth",top:0})}})]})})]})})})}export{ne as default};
