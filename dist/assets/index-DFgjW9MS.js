import{u as E,n as C,r as o,f as F,j as s,h as L,W as A,C as B,o as D,L as S,k as z,s as O,l as R,t as $,p as I,$ as T}from"./index-BTw3PvOy.js";import{F as W,l as m}from"./lodash-CZ4GMn5f.js";import{P as H}from"./PaginationPage-BP8T3H8O.js";/* empty css              */const V=r=>Object.fromEntries(Object.entries(r).filter(([n,e])=>!(e==null||Array.isArray(e)&&(e==null?void 0:e.length)===0))),x=10,q=m.debounce((r,n)=>n(r),1e3),M=m.debounce((r,n,e,c)=>{c||e(!0),n(r).finally(()=>e(!1))}),G=async(r,n)=>{const e=V(r);return(await T.post(`filter/bonus/?page=${n}&page_size=${x}`,e)).data};function X(){document.title="Filter Bonus";const{initializeAdaptiveBehavior:r}=E(),{bonusFilters:n,setBonusFilters:e}=C(),[c,g]=o.useState(1),[j,p]=o.useState([]),[u,N]=o.useState(window.innerWidth<900),[k,v]=o.useState(!0),{data:i,isLoading:P,refetch:_}=F(["filter/bonus",n,c],()=>G(n,c),{keepPreviousData:!0,enabled:!1});o.useEffect(()=>{M(n,_,v,u)},[c,_,g]),o.useEffect(()=>{q(n,_),u||window.scrollTo({behavior:"smooth",top:0})},[n,_]),o.useEffect(()=>{i!=null&&i.results&&p(a=>[...a,...i==null?void 0:i.results].reduce((t,h)=>(t.some(b=>(b==null?void 0:b.bonus_id)===(h==null?void 0:h.bonus_id))||t.push(h),t),[]))},[i]),o.useEffect(()=>{r()},[P]),o.useEffect(()=>{const a=()=>N(window.innerWidth<900);return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]);const f=u?j:i==null?void 0:i.results,w=()=>{e($)},y=a=>{const d=I[a];e(l=>({...l,[a]:d}))};return k?s.jsx(L,{}):s.jsx(A,{children:s.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered",children:s.jsxs("div",{className:"main-gamble__body",children:[s.jsx(B,{category:[{name:"All"},{name:"Hot Events"},{name:"Best Cash Back Casinos"},{name:"Highest RTP Slots"},{name:"No Deposit Bonuses"},{name:"VPN Allowed Casinos"}]}),s.jsx(W,{initList:n,clearAll:w,clearOne:a=>y(a)}),s.jsx("section",{className:"see-all__main main-see-all",children:s.jsxs("div",{className:"main-see-all__container container",children:[s.jsx("div",{className:"results-filter-scenarios__top top",children:s.jsxs("div",{className:"top__title-block",children:[s.jsx("span",{className:"top__title-icon",children:s.jsx("img",{src:D,alt:"search"})}),s.jsx("h2",{className:"top__title",children:"Results"})]})}),s.jsx("div",{className:"main-see-all__row",children:f==null?void 0:f.map(a=>{var d;return s.jsx("div",{className:"main-see-all__column",children:s.jsxs("div",{className:"slide-slider__item casino-card",children:[s.jsx("div",{className:"casino-card__top",children:s.jsxs("a",{href:"","aria-label":"Put your description here.",target:"_blank",className:"casino-card__image-block",children:[s.jsx("div",{className:"casino-card__image see-all-custom__image-custom ",children:s.jsx(S,{img:a==null?void 0:a.bonus_image,width:"100%"})}),s.jsx("a",{href:a==null?void 0:a.casino_affiliate_link,target:"_blank","aria-label":"Put your description here.",className:"casino-card__bnt",children:"Play"})]})}),s.jsxs("div",{className:"casino-card__content",children:[s.jsx("div",{className:"casino-card__tags tags-casino-card",children:(d=a==null?void 0:a.labels)==null?void 0:d.map((l,t)=>s.jsx("div",{className:`tags-casino-card__item ${z[t%4]}`,children:s.jsx("span",{className:"tags-casino-card__item-label",children:typeof l=="string"?l:l.name})},t))}),s.jsxs("div",{className:"casino-card__info info-casino-card",children:[s.jsxs("div",{className:"info-casino-card__stake",children:[s.jsx("a",{href:"","aria-label":"Put your description here.",target:"_blank",className:"info-casino-card__stake-link",children:"Stake Casino"}),s.jsxs("div",{className:"info-casino-card__stake-rating",children:[s.jsx("span",{className:"info-casino-card__stake-rating-icon",children:s.jsx("img",{src:O,alt:"star"})}),s.jsx("span",{className:"info-casino-card__stake__rating-number",children:a==null?void 0:a.casino_rank})]})]}),s.jsxs("div",{className:"info-casino-card__likes",children:[s.jsx("span",{className:"info-casino-card__likes-icon",children:s.jsx("img",{src:R,alt:"like"})}),s.jsx("span",{className:"info-casino-card__likes-number",children:a==null?void 0:a.bonus_likes})]})]}),s.jsx("a",{href:"","aria-label":"Put your description here.",target:"_blank",className:"casino-card__name",children:a==null?void 0:a.bonus_name})]})]})},(a==null?void 0:a.bonus_id)+(a==null?void 0:a.bonus_image))})}),s.jsx(H,{countElem:i==null?void 0:i.count,currentPage:c,countPageElem:x,setCurrentPage:a=>{g(a),u||window.scrollTo({behavior:"smooth",top:0})}})]})})]})})})}export{X as default};
