import{u as k,n as C,r as l,f as D,j as e,h as z,W as A,C as S,L as b,s as B,x,t as V,$ as I}from"./index-Bya9jKYL.js";import{F as R,l as h}from"./lodash-CU4okhS7.js";import{P as W}from"./PaginationPage-CPydhnGz.js";const f=15,$=h.debounce((r,i)=>i(r),1e3),H=h.debounce((r,i,n,m)=>{m||n(!0),i(r).finally(()=>n(!1))}),M=async(r,i)=>{const n=V(r);return(await I.post(`filter/loyalty/?page=${i}&page_size=${f}`,n)).data};function Q(){document.title="Filter Loyalties";const{initializeAdaptiveBehavior:r}=k(),{loyaltiesFilters:i,setLoyaltiesFilters:n}=C(),[m,d]=l.useState(1),[j,y]=l.useState([]),[o,v]=l.useState(window.innerWidth<900),[N,w]=l.useState(!0),{data:a,isLoading:L,refetch:c}=D(["filter/loyalty",i,m],()=>M(i,m),{keepPreviousData:!0,enabled:!1});l.useEffect(()=>{H(i,c,w,o)},[m,c,d]),l.useEffect(()=>{$(i,c),o||window.scrollTo({behavior:"smooth",top:0})},[i,c]),l.useEffect(()=>{a!=null&&a.results&&y(s=>[...s,...a==null?void 0:a.results].reduce((_,u)=>(_.some(F=>F.casino_id===u.casino_id)||_.push(u),_),[]))},[a]),l.useEffect(()=>{r()},[L]),l.useEffect(()=>{const s=()=>v(window.innerWidth<900);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const g=o?j:a==null?void 0:a.results,E=()=>{n(x)},P=s=>{const t=x[s];n(p=>({...p,[s]:t}))};return N?e.jsx(z,{}):e.jsx(A,{children:e.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered",children:e.jsxs("div",{className:"main-gamble__body",children:[e.jsx(S,{category:[{name:"All"},{name:"Hot Events"},{name:"Best Cash Back Casinos"},{name:"Highest RTP Slots"},{name:"No Deposit Bonuses"},{name:"VPN Allowed Casinos"}]}),e.jsx(R,{initList:i,clearAll:E,clearOne:s=>P(s)}),e.jsx("section",{className:"loyaltie-programs__main main-loyaltie-programs",children:e.jsxs("div",{className:"main-loyaltie-programs__container container",children:[e.jsx("div",{className:"main-loyaltie-programs__top top",children:e.jsx("div",{className:"top__row",children:e.jsx("div",{className:"top__column",children:e.jsx("div",{className:"top__title-block",children:e.jsx("h2",{className:"top__title",children:"Essential VIP Loyalty Programs"})})})})}),e.jsx("div",{className:"main-loyaltie-programs__items loyaltie-programs__items",children:g==null?void 0:g.map(s=>e.jsx("div",{className:"loyaltie-programs__item item-loyaltie-programs",children:e.jsxs("div",{className:"item-loyaltie-programs__row",children:[e.jsx("div",{className:"item-loyaltie-programs__main",children:e.jsx("a",{className:"item-loyaltie-programs__image loyalty-img-custom",children:e.jsx(b,{img:(s==null?void 0:s.casino_image)||"",width:"100%"})})}),e.jsxs("div",{className:"item-loyaltie-programs__content content-item-loyaltie-programs",children:[e.jsxs("div",{className:"content-item-loyaltie-programs__top top-content-item-loyaltie-programs",children:[e.jsx("h2",{className:"top-content-item-loyaltie-programs__name",children:s==null?void 0:s.casino_name}),e.jsxs("div",{className:"info-casino-card__stake-rating",children:[e.jsx("span",{className:"info-casino-card__stake-rating-icon",children:e.jsx("img",{src:B,alt:"star"})}),e.jsx("span",{className:"info-casino-card__stake__rating-number",children:s==null?void 0:s.casino_rank})]})]}),e.jsxs("div",{className:"content-item-loyaltie-programs__features features-essential-programs-gamble",children:[s.loyalty_program.loyalty_keypoint.map(t=>e.jsx("div",{className:"features-essential-programs-gamble__column",children:e.jsxs("div",{className:"features-essential-programs-gamble__item",children:[e.jsx("div",{className:"features-essential-programs-gamble__icon",children:e.jsx(b,{img:(t==null?void 0:t.image)||"",width:"100%",size:"medium"})}),e.jsxs("div",{className:"features-essential-programs-gamble__info",children:[e.jsx("div",{className:"features-essential-programs-gamble__name",children:t==null?void 0:t.text_1}),e.jsx("div",{className:"features-essential-programs-gamble__text",children:t==null?void 0:t.text_2})]})]})})),e.jsx("div",{className:"features-essential-programs-gamble__column features-essential-programs-gamble__column_rating",children:e.jsx("div",{className:"features-essential-programs-gamble__item features-essential-programs-gamble__item_rating",children:e.jsxs("div",{className:"item-essential-programs-gamble__rating",children:[e.jsx("div",{className:"item-essential-programs-gamble__rating-number",children:"9/10"}),e.jsxs("div",{className:"item-essential-programs-gamble__rating-body",children:[e.jsxs("div",{className:"item-essential-programs-gamble__rating-items items-rating-essential-programs-gamble",children:[e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_1 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_2 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_3 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_4 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_5 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_6 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_7 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_8 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_9 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_10"})]}),e.jsx("div",{className:"item-essential-programs-gamble__rating-text",children:"Excellent"})]})]})})})]}),e.jsx("div",{className:"content-item-loyaltie-programs__bottom bottom-content-item-loyaltie-programs",children:e.jsxs("div",{className:"bottom-content-item-loyaltie-programs__btns",children:[e.jsx("a",{href:s==null?void 0:s.casino_affiliate_link,target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-view",children:"View Casino"}),e.jsx("a",{href:"/loyaltie",target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-more",children:"Read More"})]})})]})]})}))}),e.jsx(W,{countElem:a==null?void 0:a.count,currentPage:m,countPageElem:f,setCurrentPage:s=>{d(s),o||window.scrollTo({behavior:"smooth",top:0})}})]})})]})})})}export{Q as default};
