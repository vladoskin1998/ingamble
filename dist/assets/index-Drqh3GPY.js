import{u as A,o as $,r as n,f as z,j as e,h as F,W as I,C as T,p as W,q as j,L as N,l as B,e as R,N as V,t as L,v as M,$ as H}from"./index-Dd_lq-dn.js";import{F as D}from"./FilterHeaderList-vJPhqDbB.js";import{rankCasinosSeeAll as O,WithdrawalSeeAllCasinos as U}from"./index-BCV--7vd.js";import{P as q}from"./PaginationPage-BDp0uZM1.js";import{l as b,v as Q}from"./v4-BdJULDfw.js";import"./BreadCrumb-sXBQe38_.js";const w=15,Y=({filtersDataLicenses:i,casinoFiltersLicenses:o,itemLicenses:l})=>{const[a,m]=n.useState(void 0);return n.useEffect(()=>{const r=setTimeout(()=>{const d=(i==null?void 0:i.find(c=>(c==null?void 0:c.id)===(o==null?void 0:o[0])))||(l==null?void 0:l[0]);m(d)},1e3);return()=>clearTimeout(r)},[i,o,l]),e.jsx("div",{className:"item-info-content-item-loyaltie-programs__value",children:e.jsxs(e.Fragment,{children:[L(a==null?void 0:a.name,15),(a==null?void 0:a.image)&&e.jsx("span",{className:"item-info-content-item-loyaltie-programs__value-flag",children:e.jsx("img",{src:a.image,alt:a.name||""})})]})})},G=b.debounce((i,o)=>o(i),1e3),J=b.debounce((i,o,l,a)=>{a||l(!0),o(i).finally(()=>l(!1))}),K=async(i,o)=>{const l=M(i);return(await H.post(`filter/casinos/?page=${o}&page_size=${w}`,l)).data};function oe(){var x;document.title="Filter Casino";const{initializeAdaptiveBehavior:i,isSidebarActive:o}=A(),{data:l,casinoFilters:a,setCasinoFilters:m}=$(),[r,d]=n.useState(1),[c,p]=n.useState([]),[_,g]=n.useState(window.innerWidth<900),[u,h]=n.useState(!0),{data:s,isLoading:C,refetch:f}=z(["filter/casinos",a,r],()=>K(a,r),{keepPreviousData:!0,enabled:!1});n.useEffect(()=>{J(a,f,h,_)},[r,f,d]),n.useEffect(()=>{d(1),G(a,f),_?p([]):window.scrollTo({behavior:"smooth",top:0})},[a,f]),n.useEffect(()=>{s!=null&&s.results&&_&&p(t=>[...t,...s==null?void 0:s.results]),!c.length&&(s!=null&&s.results)&&p(s==null?void 0:s.results)},[s]),n.useEffect(()=>{i()},[C,o]),n.useEffect(()=>{const t=()=>g(window.innerWidth<900);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const k=_?c:s==null?void 0:s.results,P=()=>{m(j)},E=t=>{if(t.includes("withdrawal_limits")){const y=t.replace("withdrawal_limits.","");m(v=>({...v,withdrawal_limits:{...v.withdrawal_limits,[y]:y==="unlimited"?void 0:null}}))}const S=j[t];m(y=>({...y,[t]:S}))};return u?e.jsx(F,{}):e.jsx(I,{children:e.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered",children:e.jsxs("div",{className:"main-gamble__body",children:[e.jsx(T,{category:[{name:"All"},{name:"Hot Events"},{name:"Best Cash Back Casinos"},{name:"Highest RTP Slots"},{name:"No Deposit Bonuses"},{name:"VPN Allowed Casinos"}]}),e.jsx(D,{initList:a,clearAll:P,clearOne:t=>E(t)}),e.jsx("section",{className:"casinos-filtered__main main-loyaltie-programs",children:e.jsxs("div",{className:"main-loyaltie-programs__container container",children:[e.jsx("div",{className:"results-filter-scenarios__top top",children:e.jsxs("div",{className:"top__title-block",children:[e.jsx("span",{className:"top__title-icon",children:e.jsx("img",{src:W,alt:"search"})}),e.jsx("h2",{className:"top__title",children:"Results"})]})}),e.jsx(X,{displayedData:k,filtersDataLicenses:(x=l==null?void 0:l.casino)==null?void 0:x.licenses,casinoFiltersLicenses:a==null?void 0:a.licenses}),e.jsx(q,{countElem:s==null?void 0:s.count,currentPage:r,countPageElem:w,setCurrentPage:t=>{d(t),_||window.scrollTo({behavior:"smooth",top:0})}})]})})]})})})}const X=n.memo(({displayedData:i,filtersDataLicenses:o,casinoFiltersLicenses:l})=>e.jsx("div",{className:"main-loyaltie-programs__items loyaltie-programs__items",children:i==null?void 0:i.map(a=>{var m,r,d,c,p,_,g,u,h;return e.jsx("div",{className:"loyaltie-programs__item item-loyaltie-programs",children:e.jsxs("div",{className:"item-loyaltie-programs__row",children:[e.jsx("div",{className:"item-loyaltie-programs__main",children:e.jsx("div",{"aria-label":"Put your description here.",className:"item-loyaltie-programs__image item-loyaltie-programs__image-custom ",children:e.jsx(N,{img:(a==null?void 0:a.casino_image)||"",height:"100%",width:"100%"})},Q())}),e.jsx("div",{className:"item-loyaltie-programs__content content-item-loyaltie-programs",children:e.jsxs("div",{className:"content-item-loyaltie-programs__row",children:[e.jsxs("div",{className:"content-item-loyaltie-programs__column content-item-loyaltie-programs__column_main",children:[e.jsxs("div",{className:"content-item-loyaltie-programs__top top-content-item-loyaltie-programs",children:[e.jsx("h2",{className:"top-content-item-loyaltie-programs__name",children:a==null?void 0:a.casino_name}),e.jsxs("div",{className:"info-casino-card__likes",children:[e.jsx("span",{className:"info-casino-card__likes-icon",children:e.jsx("img",{src:B,alt:"like"})}),e.jsx("span",{className:"info-casino-card__likes-number",children:a==null?void 0:a.likes})]})]}),e.jsx("div",{className:"content-item-loyaltie-programs__info info-content-item-loyaltie-programs",children:e.jsxs("div",{className:"info-content-item-loyaltie-programs__row",children:[e.jsxs("div",{className:"info-content-item-loyaltie-programs__column",children:[e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs item-info-content-item-loyaltie-programs_index-high",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"Safety Index"}),e.jsxs("div",{className:"item-info-content-item-loyaltie-programs__value",children:[a==null?void 0:a.casino_rank,e.jsx("span",{className:"item-info-content-item-loyaltie-programs__value-index",children:O(Number(a==null?void 0:a.casino_rank))})]})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"Min Dep"}),e.jsx("div",{className:"item-info-content-item-loyaltie-programs__value",children:(r=(m=a.min_dep)==null?void 0:m[0])!=null&&r.value?`${(c=(d=a.min_dep)==null?void 0:d[0])==null?void 0:c.value} ${R()}`:"Unlimited"})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"License"}),e.jsx(Y,{filtersDataLicenses:o,casinoFiltersLicenses:l,itemLicenses:a.licenses})]})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__column",children:[e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"Withdrawal Limit:"}),e.jsx("div",{className:"item-info-content-item-loyaltie-programs__value",children:`${V(((p=a==null?void 0:a.withdrawal_limit)==null?void 0:p.monthly)||((_=a==null?void 0:a.withdrawal_limit)==null?void 0:_.weekly)||((g=a==null?void 0:a.withdrawal_limit)==null?void 0:g.daily)||"Unlimited")} ${U(a==null?void 0:a.withdrawal_limit)}`})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"Payout Speed"}),e.jsx("div",{className:`item-info-content-item-loyaltie-programs__value item-info-content-item-loyaltie-programs__value_${a.payout_speed.toLocaleLowerCase()}`,children:a==null?void 0:a.payout_speed})]}),e.jsxs("div",{className:"info-content-item-loyaltie-programs__item item-info-content-item-loyaltie-programs",children:[e.jsx("div",{className:"item-info-content-item-loyaltie-programs__label",children:"VPN Allowed"}),e.jsx("div",{className:`item-info-content-item-loyaltie-programs__value item-info-content-item-loyaltie-programs__value_${a!=null&&a.vpn_usage?"yes":"no"}`,children:a!=null&&a.vpn_usage?"Yes":"No"})]})]})]})}),e.jsx("div",{className:"content-item-loyaltie-programs__bottom bottom-content-item-loyaltie-programs",children:e.jsxs("div",{className:"bottom-content-item-loyaltie-programs__btns",children:[e.jsx("a",{href:a==null?void 0:a.casino_affiliate_link,target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-view",children:"View Casino"}),e.jsx("a",{href:"/loyaltie",target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-more",children:"Read More"})]})})]}),e.jsx("div",{className:"content-item-loyaltie-programs__column content-item-loyaltie-programs__column_features",children:e.jsx("div",{className:"content-item-loyaltie-programs__features features-essential-programs-gamble",children:(h=(u=a==null?void 0:a.loyalty_program)==null?void 0:u.loyalty_keypoint)==null?void 0:h.slice(0,3).map(s=>e.jsx("div",{className:"features-essential-programs-gamble__column",children:e.jsxs("div",{className:"features-essential-programs-gamble__item",children:[e.jsx("div",{className:"features-essential-programs-gamble__icon",children:e.jsx(N,{img:(s==null?void 0:s.image)||"",size:"medium",width:"100%"})}),e.jsxs("div",{className:"features-essential-programs-gamble__info",children:[e.jsx("div",{className:"features-essential-programs-gamble__name",children:s==null?void 0:s.text_1}),e.jsx("div",{className:"features-essential-programs-gamble__text",children:s==null?void 0:s.text_2})]})]})}))})})]})})]})})})}));export{oe as default};
