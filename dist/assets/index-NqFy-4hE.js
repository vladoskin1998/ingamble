import{u as C,n as D,r as l,f as z,j as e,h as A,W as S,C as B,L as h,s as V,x as f,t as I,$ as R}from"./index-Bl1VqaTA.js";import{F as W,l as j}from"./lodash-nzZn_ysl.js";import{P as $}from"./PaginationPage-CfcM79jJ.js";/* empty css              */const y=15,H=j.debounce((r,n)=>n(r),1e3),M=j.debounce((r,n,t,o)=>{o||t(!0),n(r).finally(()=>t(!1))}),T=async(r,n)=>{const t=I(r);return(await R.post(`filter/loyalty/?page=${n}&page_size=${y}`,t)).data};function J(){document.title="Filter Loyalties";const{initializeAdaptiveBehavior:r,isSidebarActive:n}=C(),{loyaltiesFilters:t,setLoyaltiesFilters:o}=D(),[c,d]=l.useState(1),[v,b]=l.useState([]),[g,N]=l.useState(window.innerWidth<900),[w,L]=l.useState(!0),{data:a,isLoading:E,refetch:_}=z(["filter/loyalty",t,c],()=>T(t,c),{keepPreviousData:!0,enabled:!1});l.useEffect(()=>{M(t,_,L,g)},[c,_,d]),l.useEffect(()=>{d(1),H(t,_),g?b([]):window.scrollTo({behavior:"smooth",top:0})},[t,_]),l.useEffect(()=>{a!=null&&a.results&&b(s=>[...s,...a==null?void 0:a.results].reduce((u,x)=>(u.some(k=>k.casino_id===x.casino_id)||u.push(x),u),[]))},[a]),l.useEffect(()=>{r()},[E,n]),l.useEffect(()=>{const s=()=>N(window.innerWidth<900);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const p=g?v:a==null?void 0:a.results,P=()=>{o(f)},F=s=>{const m=f[s];o(i=>({...i,[s]:m}))};return w?e.jsx(A,{}):e.jsx(S,{children:e.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered loyaltie-filtered__main",children:e.jsxs("div",{className:"main-gamble__body",children:[e.jsx(B,{category:[{name:"All"},{name:"Hot Events"},{name:"Best Cash Back Casinos"},{name:"Highest RTP Slots"},{name:"No Deposit Bonuses"},{name:"VPN Allowed Casinos"}]}),e.jsx(W,{initList:t,clearAll:P,clearOne:s=>F(s)}),e.jsx("section",{className:"loyaltie-programs__main main-loyaltie-programs",children:e.jsxs("div",{className:"main-loyaltie-programs__container container",children:[e.jsx("div",{className:"main-loyaltie-programs__top top",children:e.jsx("div",{className:"top__row",children:e.jsx("div",{className:"top__column",children:e.jsx("div",{className:"top__title-block",children:e.jsx("h2",{className:"top__title",children:"Essential VIP Loyalty Programs"})})})})}),e.jsx("div",{className:"main-loyaltie-programs__items loyaltie-programs__items",children:p==null?void 0:p.map(s=>{var m;return e.jsx("div",{className:"loyaltie-programs__item item-loyaltie-programs",children:e.jsxs("div",{className:"item-loyaltie-programs__row",children:[e.jsx("div",{className:"item-loyaltie-programs__main",children:e.jsx("a",{className:"item-loyaltie-programs__image loyalty-img-custom ",children:e.jsx(h,{img:(s==null?void 0:s.casino_image)||"",height:"100%",width:"100%"})})}),e.jsxs("div",{className:"item-loyaltie-programs__content content-item-loyaltie-programs",children:[e.jsxs("div",{className:"content-item-loyaltie-programs__top top-content-item-loyaltie-programs",children:[e.jsx("h2",{className:"top-content-item-loyaltie-programs__name",children:s==null?void 0:s.casino_name}),e.jsxs("div",{className:"info-casino-card__stake-rating",children:[e.jsx("span",{className:"info-casino-card__stake-rating-icon",children:e.jsx("img",{src:V,alt:"star"})}),e.jsx("span",{className:"info-casino-card__stake__rating-number",children:s==null?void 0:s.casino_rank})]})]}),e.jsxs("div",{className:"content-item-loyaltie-programs__features features-essential-programs-gamble",children:[(m=s==null?void 0:s.loyalty_program)==null?void 0:m.loyalty_keypoint.map(i=>e.jsx("div",{className:"features-essential-programs-gamble__column",children:e.jsxs("div",{className:"features-essential-programs-gamble__item",children:[e.jsx("div",{className:"features-essential-programs-gamble__icon",children:e.jsx(h,{img:(i==null?void 0:i.image)||"",width:"100%",size:"medium"})}),e.jsxs("div",{className:"features-essential-programs-gamble__info",children:[e.jsx("div",{className:"features-essential-programs-gamble__name",children:i==null?void 0:i.text_1}),e.jsx("div",{className:"features-essential-programs-gamble__text",children:i==null?void 0:i.text_2})]})]})})),e.jsx("div",{className:"features-essential-programs-gamble__column features-essential-programs-gamble__column_rating",children:e.jsx("div",{className:"features-essential-programs-gamble__item features-essential-programs-gamble__item_rating",children:e.jsxs("div",{className:"item-essential-programs-gamble__rating",children:[e.jsx("div",{className:"item-essential-programs-gamble__rating-number",children:"9/10"}),e.jsxs("div",{className:"item-essential-programs-gamble__rating-body",children:[e.jsxs("div",{className:"item-essential-programs-gamble__rating-items items-rating-essential-programs-gamble",children:[e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_1 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_2 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_3 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_4 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_5 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_6 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_7 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_8 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_9 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_10"})]}),e.jsx("div",{className:"item-essential-programs-gamble__rating-text",children:"Excellent"})]})]})})})]}),e.jsx("div",{className:"content-item-loyaltie-programs__bottom bottom-content-item-loyaltie-programs",children:e.jsxs("div",{className:"bottom-content-item-loyaltie-programs__btns",children:[e.jsx("a",{href:s==null?void 0:s.casino_affiliate_link,target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-view",children:"View Casino"}),e.jsx("a",{href:"/loyaltie",target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-more",children:"Read More"})]})})]})]})})})}),e.jsx($,{countElem:a==null?void 0:a.count,currentPage:c,countPageElem:y,setCurrentPage:s=>{d(s),g||window.scrollTo({behavior:"smooth",top:0})}})]})})]})})})}export{J as default};
