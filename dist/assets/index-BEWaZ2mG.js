import{u as F,n as C,r as i,f as L,j as s,h as B,W as D,C as S,o as A,L as z,k as R,s as $,l as I,w as O,q as T,t as W,$ as q}from"./index-MTbA18Bn.js";import{F as H,l as b}from"./lodash-CG9-ppvA.js";import{P as V}from"./PaginationPage-CjLiQOmr.js";/* empty css              */const j=1,M=b.debounce((r,c)=>c(r),1e3),G=b.debounce((r,c,n,o)=>{o||n(!0),c(r).finally(()=>n(!1))}),Q=async(r,c)=>{const n=W(r);return(await q.post(`filter/bonus/?page=${c}&page_size=${j}`,n)).data};function Y(){document.title="Filter Bonus";const{initializeAdaptiveBehavior:r,isSidebarActive:c}=F(),{bonusFilters:n,setBonusFilters:o}=C(),[t,f]=i.useState(1),[p,g]=i.useState([]),[d,N]=i.useState(window.innerWidth<900),[v,k]=i.useState(!0),{data:a,isLoading:w,refetch:h}=L(["filter/bonus",n,t],()=>Q(n,t),{keepPreviousData:!0,enabled:!1});i.useEffect(()=>{G(n,h,k,d)},[t,h,f]),i.useEffect(()=>{f(1),M(n,h),d?g([]):window.scrollTo({behavior:"smooth",top:0})},[n,h]),i.useEffect(()=>{a!=null&&a.results&&d&&g(e=>[...e,...a==null?void 0:a.results].reduce((l,_)=>(l.some(E=>E.bonus_id===_.bonus_id)||l.push(_),l),[])),!p.length&&(a!=null&&a.results)&&g(a==null?void 0:a.results)},[a]),i.useEffect(()=>{r()},[w,c]),i.useEffect(()=>{const e=()=>N(window.innerWidth<900);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const x=d?p:a==null?void 0:a.results,P=()=>{o(O)},y=e=>{const m=T[e];o(u=>({...u,[e]:m}))};return console.log("currentPage",t),v?s.jsx(B,{}):s.jsx(D,{children:s.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered",children:s.jsxs("div",{className:"main-gamble__body",children:[s.jsx(S,{category:[{name:"All"},{name:"Hot Events"},{name:"Best Cash Back Casinos"},{name:"Highest RTP Slots"},{name:"No Deposit Bonuses"},{name:"VPN Allowed Casinos"}]}),s.jsx(H,{initList:n,clearAll:P,clearOne:e=>y(e)}),s.jsx("section",{className:"see-all__main main-see-all",children:s.jsxs("div",{className:"main-see-all__container container",children:[s.jsx("div",{className:"results-filter-scenarios__top top",children:s.jsxs("div",{className:"top__title-block",children:[s.jsx("span",{className:"top__title-icon",children:s.jsx("img",{src:A,alt:"search"})}),s.jsx("h2",{className:"top__title",children:"Results"})]})}),s.jsx("div",{className:"main-see-all__row custom-main-see-all__row",children:x==null?void 0:x.map((e,m)=>{var u;return s.jsx("div",{className:"main-see-all__column",children:s.jsxs("div",{className:"slide-slider__item casino-card",children:[s.jsx("div",{className:"casino-card__top",children:s.jsxs("a",{href:"","aria-label":"Put your description here.",target:"_blank",className:"casino-card__image-block",style:{padding:"0 8px 50.432% 8px"},children:[s.jsx("div",{className:"casino-card__image see-all-custom__image-custom",children:s.jsx(z,{img:e==null?void 0:e.bonus_image,height:"100%",width:"100%"})}),s.jsx("a",{href:e==null?void 0:e.casino_affiliate_link,target:"_blank","aria-label":"Put your description here.",className:"casino-card__bnt",children:"Play"})]})}),s.jsxs("div",{className:"casino-card__content",children:[s.jsx("div",{className:"casino-card__tags tags-casino-card",children:(u=e==null?void 0:e.labels)==null?void 0:u.map((l,_)=>s.jsx("div",{className:`tags-casino-card__item ${R[_%4]}`,children:s.jsx("span",{className:"tags-casino-card__item-label",children:typeof l=="string"?l:l.name})},_))}),s.jsxs("div",{className:"casino-card__info info-casino-card",children:[s.jsxs("div",{className:"info-casino-card__stake",children:[s.jsx("a",{href:"","aria-label":"Put your description here.",target:"_blank",className:"info-casino-card__stake-link",children:e==null?void 0:e.casino_name}),s.jsxs("div",{className:"info-casino-card__stake-rating",children:[s.jsx("span",{className:"info-casino-card__stake-rating-icon",children:s.jsx("img",{src:$,alt:"star"})}),s.jsx("span",{className:"info-casino-card__stake__rating-number",children:e==null?void 0:e.casino_rank})]})]}),s.jsxs("div",{className:"info-casino-card__likes",children:[s.jsx("span",{className:"info-casino-card__likes-icon",children:s.jsx("img",{src:I,alt:"like"})}),s.jsx("span",{className:"info-casino-card__likes-number",children:e==null?void 0:e.bonus_likes})]})]}),s.jsx("a",{href:"","aria-label":"Put your description here.",target:"_blank",className:"casino-card__name",children:e==null?void 0:e.bonus_name})]})]})},m)})}),s.jsx(V,{countElem:a==null?void 0:a.count,currentPage:t,countPageElem:j,setCurrentPage:e=>{f(e),d||window.scrollTo({behavior:"smooth",top:0})}})]})})]})})})}export{Y as default};
