import{u as E,n as F,r as i,f as C,j as s,h as L,W as B,C as S,o as z,L as A,k as D,s as R,l as $,w as I,q as O,t as T,$ as W}from"./index-BlRmbjoG.js";import{F as q,v as H,l as p}from"./v4-ocq8NodW.js";import{P as V}from"./PaginationPage-B0WMOL2Q.js";/* empty css              */const j=20,M=p.debounce((o,n)=>n(o),1e3),G=p.debounce((o,n,t,r)=>{r||t(!0),n(o).finally(()=>t(!1))}),Q=async(o,n)=>{const t=T(o);return(await W.post(`filter/bonus/?page=${n}&page_size=${j}`,t)).data};function Y(){document.title="Filter Bonus";const{initializeAdaptiveBehavior:o}=E(),{bonusFilters:n,setBonusFilters:t}=F(),[r,h]=i.useState(1),[g,m]=i.useState([]),[u,b]=i.useState(window.innerWidth<900),[N,v]=i.useState(!0),{data:a,isLoading:k,refetch:_}=C(["filter/bonus",n,r],()=>Q(n,r),{keepPreviousData:!0,enabled:!1});i.useEffect(()=>{G(n,_,v,u)},[r,_,h]),i.useEffect(()=>{h(1),M(n,_),u?m([]):window.scrollTo({behavior:"smooth",top:0})},[n,_]),i.useEffect(()=>{a!=null&&a.results&&u&&m(e=>{const l=[...e,...a==null?void 0:a.results];return l==null?void 0:l.reduce((d,x)=>(d.some(y=>y.bonus_id===x.bonus_id)||d.push(x),d),[])}),!g.length&&(a!=null&&a.results)&&m(a==null?void 0:a.results)},[a]),i.useEffect(()=>{o()},[k]),i.useEffect(()=>{const e=()=>b(window.innerWidth<900);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const f=u?g:a==null?void 0:a.results,w=()=>{t(I)},P=e=>{const l=O[e];t(c=>({...c,[e]:l}))};return console.log("currentPage",r),N?s.jsx(L,{}):s.jsx(B,{children:s.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered",children:s.jsxs("div",{className:"main-gamble__body",children:[s.jsx(S,{category:[{name:"All"},{name:"Hot Events"},{name:"Best Cash Back Casinos"},{name:"Highest RTP Slots"},{name:"No Deposit Bonuses"},{name:"VPN Allowed Casinos"}]}),s.jsx(q,{initList:n,clearAll:w,clearOne:e=>P(e)}),s.jsx("section",{className:"see-all__main main-see-all",children:s.jsxs("div",{className:"main-see-all__container container",children:[s.jsx("div",{className:"results-filter-scenarios__top top",children:s.jsxs("div",{className:"top__title-block",children:[s.jsx("span",{className:"top__title-icon",children:s.jsx("img",{src:z,alt:"search"})}),s.jsx("h2",{className:"top__title",children:"Results"})]})}),s.jsx("div",{className:"main-see-all__row custom-main-see-all__row",children:f==null?void 0:f.map(e=>{var l;return s.jsx("div",{className:"main-see-all__column",children:s.jsxs("div",{className:"slide-slider__item casino-card",children:[s.jsx("div",{className:"casino-card__top",children:s.jsxs("a",{href:"","aria-label":"Put your description here.",target:"_blank",className:"casino-card__image-block",style:{padding:"0 8px 50.432% 8px"},children:[s.jsx("div",{className:"casino-card__image see-all-custom__image-custom",children:s.jsx(A,{img:e==null?void 0:e.bonus_image,height:"100%",width:"100%"})},H()),s.jsx("a",{href:e==null?void 0:e.casino_affiliate_link,target:"_blank","aria-label":"Put your description here.",className:"casino-card__bnt",children:"Play"})]})}),s.jsxs("div",{className:"casino-card__content",children:[s.jsx("div",{className:"casino-card__tags tags-casino-card",children:(l=e==null?void 0:e.labels)==null?void 0:l.map((c,d)=>s.jsx("div",{className:`tags-casino-card__item ${D[d%4]}`,children:s.jsx("span",{className:"tags-casino-card__item-label",children:typeof c=="string"?c:c==null?void 0:c.name})},d))}),s.jsxs("div",{className:"casino-card__info info-casino-card",children:[s.jsxs("div",{className:"info-casino-card__stake",children:[s.jsx("a",{href:"","aria-label":"Put your description here.",target:"_blank",className:"info-casino-card__stake-link",children:e==null?void 0:e.casino_name}),s.jsxs("div",{className:"info-casino-card__stake-rating",children:[s.jsx("span",{className:"info-casino-card__stake-rating-icon",children:s.jsx("img",{src:R,alt:"star"})}),s.jsx("span",{className:"info-casino-card__stake__rating-number",children:e==null?void 0:e.casino_rank})]})]}),s.jsxs("div",{className:"info-casino-card__likes",children:[s.jsx("span",{className:"info-casino-card__likes-icon",children:s.jsx("img",{src:$,alt:"like"})}),s.jsx("span",{className:"info-casino-card__likes-number",children:e==null?void 0:e.bonus_likes})]})]}),s.jsx("a",{href:"","aria-label":"Put your description here.",target:"_blank",className:"casino-card__name",children:e==null?void 0:e.bonus_name})]})]})})})}),s.jsx(V,{countElem:a==null?void 0:a.count,currentPage:r,countPageElem:j,setCurrentPage:e=>{h(e),u||window.scrollTo({behavior:"smooth",top:0})}})]})})]})})})}export{Y as default};
