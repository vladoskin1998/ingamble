import{r as e,j as l}from"./index-CPkuPJU_.js";const j=(o=!1)=>{const[c,a]=e.useState(o),r=e.useCallback(()=>{a(n=>!n)},[]);return{isOpen:c,toggle:r}},T=e.memo(({heading:o,content:c,defaultOpen:a=!1,isNested:r=!1})=>{const[n,x]=e.useState(a||r),[H,p]=e.useState("0"),[v,u]=e.useState(!1),[I,d]=e.useState(n?"visible":"hidden"),{toggle:E}=j(),m=e.useRef(null),s=e.useRef(null),f=t=>{let i=t.scrollHeight;return t.querySelectorAll(".accordion-item").forEach(h=>{h instanceof HTMLElement&&(i+=f(h))}),i};e.useEffect(()=>{if(s!=null&&s.current){const t=f(s==null?void 0:s.current);p(`${t}px`)}},[]),e.useEffect(()=>{const t=m.current;if(t){const i=t.querySelector(".accordion--title--element");i&&(n?i.classList.add("active"):i.classList.remove("active"))}},[n]);const S=()=>{v||(u(!0),x(t=>(t?d("hidden"):setTimeout(()=>{d("visible")},300),!t)),E(),setTimeout(()=>{u(!1)},300))};return l.jsxs("div",{className:"cusom-react-accordion",children:[l.jsx("div",{ref:m,style:g.accordionItemHeader,onClick:S,className:"active",children:o}),l.jsx("div",{className:"accordion-item",ref:s,style:{...g.accordionItemPanel,overflow:I,maxHeight:n?H:"0"},children:c})]})}),g={accordionItemHeader:{cursor:"pointer",position:"relative",zIndex:"2"},accordionItemPanel:{transition:"max-height 0.3s ease-in-out"}};export{T as A};
