import{u as C,n as z,r as l,f as D,j as e,h as S,W as A,C as B,L as x,s as R,x as h,t as V,$ as I}from"./index-Dm7dJ94G.js";import{F as W,l as f}from"./lodash-BN5FaIOg.js";import{P as $}from"./PaginationPage-JbqyZwdg.js";const j=15,H=f.debounce((r,n)=>n(r),1e3),M=f.debounce((r,n,t,o)=>{o||t(!0),n(r).finally(()=>t(!1))}),T=async(r,n)=>{const t=V(r);return(await I.post(`filter/loyalty/?page=${n}&page_size=${j}`,t)).data};function G(){document.title="Filter Loyalties";const{initializeAdaptiveBehavior:r,isSidebarActive:n}=C(),{loyaltiesFilters:t,setLoyaltiesFilters:o}=z(),[m,p]=l.useState(1),[y,v]=l.useState([]),[c,N]=l.useState(window.innerWidth<900),[w,L]=l.useState(!0),{data:a,isLoading:P,refetch:g}=D(["filter/loyalty",t,m],()=>T(t,m),{keepPreviousData:!0,enabled:!1});l.useEffect(()=>{M(t,g,L,c)},[m,g,p]),l.useEffect(()=>{H(t,g),c||window.scrollTo({behavior:"smooth",top:0})},[t,g]),l.useEffect(()=>{a!=null&&a.results&&v(s=>[...s,...a==null?void 0:a.results].reduce((d,b)=>(d.some(F=>F.casino_id===b.casino_id)||d.push(b),d),[]))},[a]),l.useEffect(()=>{r()},[P,n]),l.useEffect(()=>{const s=()=>N(window.innerWidth<900);return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const _=c?y:a==null?void 0:a.results,E=()=>{o(h)},k=s=>{const i=h[s];o(u=>({...u,[s]:i}))};return w?e.jsx(S,{}):e.jsx(A,{children:e.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered",children:e.jsxs("div",{className:"main-gamble__body",children:[e.jsx(B,{category:[{name:"All"},{name:"Hot Events"},{name:"Best Cash Back Casinos"},{name:"Highest RTP Slots"},{name:"No Deposit Bonuses"},{name:"VPN Allowed Casinos"}]}),e.jsx(W,{initList:t,clearAll:E,clearOne:s=>k(s)}),e.jsx("section",{className:"loyaltie-programs__main main-loyaltie-programs",children:e.jsxs("div",{className:"main-loyaltie-programs__container container",children:[e.jsx("div",{className:"main-loyaltie-programs__top top",children:e.jsx("div",{className:"top__row",children:e.jsx("div",{className:"top__column",children:e.jsx("div",{className:"top__title-block",children:e.jsx("h2",{className:"top__title",children:"Essential VIP Loyalty Programs"})})})})}),e.jsx("div",{className:"main-loyaltie-programs__items loyaltie-programs__items",children:_==null?void 0:_.map(s=>e.jsx("div",{className:"loyaltie-programs__item item-loyaltie-programs",children:e.jsxs("div",{className:"item-loyaltie-programs__row",children:[e.jsx("div",{className:"item-loyaltie-programs__main",children:e.jsx("a",{className:"item-loyaltie-programs__image loyalty-img-custom ibg",style:{backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:e.jsx(x,{img:(s==null?void 0:s.casino_image)||"",width:"100%"})})}),e.jsxs("div",{className:"item-loyaltie-programs__content content-item-loyaltie-programs",children:[e.jsxs("div",{className:"content-item-loyaltie-programs__top top-content-item-loyaltie-programs",children:[e.jsx("h2",{className:"top-content-item-loyaltie-programs__name",children:s==null?void 0:s.casino_name}),e.jsxs("div",{className:"info-casino-card__stake-rating",children:[e.jsx("span",{className:"info-casino-card__stake-rating-icon",children:e.jsx("img",{src:R,alt:"star"})}),e.jsx("span",{className:"info-casino-card__stake__rating-number",children:s==null?void 0:s.casino_rank})]})]}),e.jsxs("div",{className:"content-item-loyaltie-programs__features features-essential-programs-gamble",children:[s.loyalty_program.loyalty_keypoint.map(i=>e.jsx("div",{className:"features-essential-programs-gamble__column",children:e.jsxs("div",{className:"features-essential-programs-gamble__item",children:[e.jsx("div",{className:"features-essential-programs-gamble__icon",children:e.jsx(x,{img:(i==null?void 0:i.image)||"",width:"100%",size:"medium"})}),e.jsxs("div",{className:"features-essential-programs-gamble__info",children:[e.jsx("div",{className:"features-essential-programs-gamble__name",children:i==null?void 0:i.text_1}),e.jsx("div",{className:"features-essential-programs-gamble__text",children:i==null?void 0:i.text_2})]})]})})),e.jsx("div",{className:"features-essential-programs-gamble__column features-essential-programs-gamble__column_rating",children:e.jsx("div",{className:"features-essential-programs-gamble__item features-essential-programs-gamble__item_rating",children:e.jsxs("div",{className:"item-essential-programs-gamble__rating",children:[e.jsx("div",{className:"item-essential-programs-gamble__rating-number",children:"9/10"}),e.jsxs("div",{className:"item-essential-programs-gamble__rating-body",children:[e.jsxs("div",{className:"item-essential-programs-gamble__rating-items items-rating-essential-programs-gamble",children:[e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_1 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_2 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_3 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_4 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_5 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_6 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_7 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_8 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_9 full"}),e.jsx("div",{className:"items-rating-essential-programs-gamble__item items-rating-essential-programs-gamble__item_10"})]}),e.jsx("div",{className:"item-essential-programs-gamble__rating-text",children:"Excellent"})]})]})})})]}),e.jsx("div",{className:"content-item-loyaltie-programs__bottom bottom-content-item-loyaltie-programs",children:e.jsxs("div",{className:"bottom-content-item-loyaltie-programs__btns",children:[e.jsx("a",{href:s==null?void 0:s.casino_affiliate_link,target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-view",children:"View Casino"}),e.jsx("a",{href:"/loyaltie",target:"_blank","aria-label":"Put your description here.",className:"bottom-content-item-loyaltie-programs__btn-more",children:"Read More"})]})})]})]})}))}),e.jsx($,{countElem:a==null?void 0:a.count,currentPage:m,countPageElem:j,setCurrentPage:s=>{p(s),c||window.scrollTo({behavior:"smooth",top:0})}})]})})]})})})}export{G as default};
