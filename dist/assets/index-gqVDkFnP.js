const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BottomInfo-sDe-uUSE.js","assets/index-Bpe0KgFS.js","assets/index-BM62F8gK.css","assets/CheckMoreWhatSuitsYouBest-i5Nx9nPl.js","assets/search-filter-B3Q_Zd2F.js","assets/SubscribeForm-C-A3Pe8A.js","assets/08-DKS33Ud4.js","assets/SubscribeForm-C_hzHGal.css"])))=>i.map(i=>d[i]);
import{d as C,u as B,r as o,h as S,n as z,x as $,j as s,k as A,_ as p,i as D,e as I,L as m,c as R,b as O,C as T,a as W,w as V,$ as H}from"./index-Bpe0KgFS.js";import{C as M,L as G}from"./LazyCardImg-DvXTBPER.js";import{i as Q,m as Y,W as q,F as J}from"./index-CvKfVU7T.js";import{l as K}from"./like-DhHpW3pT.js";import{s as U}from"./star-CJcP6Lxy.js";import{P as X}from"./PaginationPage-BcdtmCxf.js";import{l as b,v as Z}from"./v4-CPXcW-pd.js";import{s as ss}from"./search-filter-B3Q_Zd2F.js";/* empty css              */import{N as es}from"./index-CiBkSmPY.js";import{B as as}from"./BreadCrumb-uTsxiW2e.js";const ns=o.lazy(()=>p(()=>import("./BottomInfo-sDe-uUSE.js"),__vite__mapDeps([0,1,2]))),os=o.lazy(()=>p(()=>import("./CheckMoreWhatSuitsYouBest-i5Nx9nPl.js"),__vite__mapDeps([3,1,2,4]))),rs=o.lazy(()=>p(()=>import("./SubscribeForm-C-A3Pe8A.js"),__vite__mapDeps([5,1,2,6,7]))),j=window.innerWidth<900?10:20,is=b.debounce((i,n)=>n(i),500),ls=b.debounce((i,n,e,l)=>{l||e(!0),n(i).finally(()=>e(!1))}),cs=async(i,n)=>{const e=V(i);return(await H.post(`filter/bonus/?page=${n}&page_size=${j}`,e)).data};function vs(){const{isShowPlayButton:i}=C(),{bonusFilters:n,setBonusFilters:e}=B(),[l,r]=o.useState(1),[u,d]=o.useState([]),[t,v]=o.useState(window.innerWidth<900),[N,k]=o.useState(!0),{data:a,isLoading:g,refetch:_}=S(["filter/bonus",n,l],()=>cs(n,l),{keepPreviousData:!0,enabled:!1}),{bonus_slug:h}=z(),[w,P]=o.useState(h||"");o.useEffect(()=>{P(h||"")},[h]),o.useEffect(()=>{ls(n,_,k,t)},[l,_,r]),o.useEffect(()=>{r(1),is(n,_),t?d([]):window.scrollTo({behavior:"smooth",top:0})},[n,_]),o.useEffect(()=>{if(t&&!(a!=null&&a.results)){d([]);return}if(t&&l===1&&(a!=null&&a.results)){d(a==null?void 0:a.results);return}if(t){d(c=>[...c,...(a==null?void 0:a.results)||[]]);return}},[a]),o.useEffect(()=>{const c=()=>v(window.innerWidth<900);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const f=t?u:a==null?void 0:a.results,L=()=>{e(D)},E=c=>{const x=I[c];e(y=>({...y,[c]:x}))};o.useEffect(()=>{Q()},[g]);const F=$({slug:w,item:Y(n)});return N?s.jsx(A,{}):s.jsx(q,{children:s.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered",children:s.jsxs("div",{className:"main-gamble__body",children:[s.jsx(M,{}),s.jsx(as,{path:[{name:"Home",link:"/"},{name:"Bonuses Filters",link:"#"}]}),s.jsx(J,{initList:n,clearAll:L,clearOne:c=>E(c)}),s.jsx("section",{className:"see-all__main main-see-all",children:s.jsxs("div",{className:"main-see-all__container container",children:[s.jsx("div",{className:"results-filter-scenarios__top top",children:s.jsxs("div",{className:"top__title-block",children:[s.jsx("span",{className:"top__title-icon",children:s.jsx("img",{src:ss,alt:"search"})}),s.jsx("h2",{className:"top__title",children:`${F||"Results"}`})]})}),s.jsx(ts,{displayedData:f,isShowPlayButton:i}),s.jsx(X,{countElem:a==null?void 0:a.count,currentPage:l,countPageElem:j,setCurrentPage:c=>{r(c),t||window.scrollTo({behavior:"smooth",top:0})}}),!(f!=null&&f.length)&&!g&&s.jsx(es,{})]})}),s.jsx(os,{}),s.jsx(rs,{}),s.jsx(ns,{})]})})})}const ts=o.memo(({displayedData:i,isShowPlayButton:n})=>s.jsx("div",{className:"main-see-all__row custom-main-see-all__row",children:i==null?void 0:i.map(e=>{var l;return s.jsx("div",{className:"main-see-all__column",children:s.jsxs("div",{className:"slide-slider__item casino-card",children:[s.jsx("div",{className:"casino-card__top",children:s.jsxs("div",{className:"casino-card__image-block",style:{padding:"0 8px 50.432% 8px"},children:[s.jsx(m,{rel:"nofollow noopener",to:`/casino/${e.casino_slug}/bonuses/${e.bonus_slug}`,"aria-label":"Put your description here.",className:"casino-card__image see-all-custom__image-custom",children:s.jsx(G,{img:e==null?void 0:e.bonus_image,height:"100%",width:"100%"})},Z()),n&&s.jsx("a",{rel:"nofollow noopener",href:R(e==null?void 0:e.casino_name),onClick:r=>{r.stopPropagation(),r.preventDefault(),O(e==null?void 0:e.casino_affiliate_link),window.open((e==null?void 0:e.casino_affiliate_link)||(e==null?void 0:e.url_casino),"_blank","noopener,noreferrer")},"aria-label":"Put your description here.",className:"casino-card__bnt",children:"Play"})]})}),s.jsxs("div",{className:"casino-card__content",children:[s.jsx("div",{className:"casino-card__tags tags-casino-card",children:(l=e==null?void 0:e.labels)==null?void 0:l.map((r,u)=>s.jsx("div",{className:`tags-casino-card__item ${T[u%4]}`,children:s.jsx("span",{className:"tags-casino-card__item-label",children:typeof r=="string"?r:r==null?void 0:r.name})},u))}),s.jsxs("div",{className:"casino-card__info info-casino-card",children:[s.jsxs("div",{className:"info-casino-card__stake",children:[s.jsx(m,{rel:"nofollow noopener",to:`/casino/${e.casino_slug}`,"aria-label":"Put your description here.",className:"info-casino-card__stake-link",children:e==null?void 0:e.casino_name}),s.jsxs("div",{className:"info-casino-card__stake-rating",children:[s.jsx("span",{className:"info-casino-card__stake-rating-icon",children:s.jsx("img",{src:U,alt:"star"})}),s.jsx("span",{className:"info-casino-card__stake__rating-number",children:e==null?void 0:e.casino_rank})]})]}),s.jsxs("div",{className:"info-casino-card__likes",children:[s.jsx("span",{className:"info-casino-card__likes-icon",children:s.jsx("img",{src:K,alt:"like"})}),s.jsx("span",{className:"info-casino-card__likes-number",children:W(e==null?void 0:e.bonus_likes)})]})]}),s.jsx(m,{rel:"nofollow noopener",to:`/casino/${e.casino_slug}/bonuses/${e.bonus_slug}`,"aria-label":"Put your description here.",className:"casino-card__name",children:e==null?void 0:e.bonus_name})]})]})})})}));export{vs as default};
