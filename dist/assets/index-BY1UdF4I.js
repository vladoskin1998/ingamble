const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BottomInfo-BQwawboZ.js","assets/index-36q0z2ye.js","assets/index-DRamQZey.css","assets/CheckMoreWhatSuitsYouBest-BNyFtCQR.js","assets/search-filter-B3Q_Zd2F.js","assets/SubscribeForm-Db5tDvX5.js","assets/08-DKS33Ud4.js","assets/SubscribeForm-C_hzHGal.css"])))=>i.map(i=>d[i]);
import{d as B,u as C,r,h as z,n as $,o as S,y as A,j as s,k as D,_ as p,i as I,e as R,L as m,c as T,b as W,g as O,a as V,x as H,$ as M}from"./index-36q0z2ye.js";import{C as Q,L as Y}from"./LazyCardImg-CnSA7vQo.js";import{m as q,W as G,F as J}from"./index-D_lW1uge.js";import{l as K}from"./like-DhHpW3pT.js";import{s as U}from"./star-CJcP6Lxy.js";import{P as X}from"./PaginationPage-CtStaW-B.js";import{l as j,v as Z}from"./v4-dALXPl5q.js";import{s as ss}from"./search-filter-B3Q_Zd2F.js";/* empty css              */import{N as es}from"./index-BdSgI4AB.js";import{B as as}from"./BreadCrumb-pJeRsYYp.js";/* empty css              */const ns=r.lazy(()=>p(()=>import("./BottomInfo-BQwawboZ.js"),__vite__mapDeps([0,1,2]))),os=r.lazy(()=>p(()=>import("./CheckMoreWhatSuitsYouBest-BNyFtCQR.js"),__vite__mapDeps([3,1,2,4]))),rs=r.lazy(()=>p(()=>import("./SubscribeForm-Db5tDvX5.js"),__vite__mapDeps([5,1,2,6,7]))),b=window.innerWidth<900?10:20,is=j.debounce((i,o)=>o(i),500),ls=j.debounce((i,o,e,l)=>{l||e(!0),o(i).finally(()=>e(!1))}),cs=async(i,o)=>{const e=H(i);return(await M.post(`filter/bonus/?page=${o}&page_size=${b}`,e)).data};function Ns(){const{isShowPlayButton:i}=B(),{bonusFilters:o,setBonusFilters:e}=C(),[l,n]=r.useState(1),[t,d]=r.useState([]),[u,v]=r.useState(window.innerWidth<900),[N,k]=r.useState(!0),{data:a,isLoading:g,refetch:_}=z(["filter/bonus",o,l],()=>cs(o,l),{keepPreviousData:!0,enabled:!1}),{bonus_slug:h}=$(),[w,P]=r.useState(h||"");r.useEffect(()=>{P(h||"")},[h]),r.useEffect(()=>{ls(o,_,k,u)},[l,_,n]),r.useEffect(()=>{n(1),is(o,_),u?d([]):window.scrollTo({behavior:"smooth",top:0})},[o,_]),r.useEffect(()=>{if(u&&!(a!=null&&a.results)){d([]);return}if(u&&l===1&&(a!=null&&a.results)){d(a==null?void 0:a.results);return}if(u){d(c=>[...c,...(a==null?void 0:a.results)||[]]);return}},[a]),r.useEffect(()=>{const c=()=>v(window.innerWidth<900);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]);const f=u?t:a==null?void 0:a.results,E=()=>{e(I)},L=c=>{const x=R[c];e(F=>({...F,[c]:x}))};r.useEffect(()=>{S()},[g]);const y=A({slug:w,item:q(o)});return N?s.jsx(D,{}):s.jsx(G,{children:s.jsx("main",{className:"gamble__casinos-filtered main-gamble casinos-filtered",children:s.jsxs("div",{className:"main-gamble__body",children:[s.jsx(Q,{}),s.jsx(as,{path:[{name:"Home",link:"/"},{name:"Bonuses Filters",link:"#"}]}),s.jsx(J,{initList:o,clearAll:E,clearOne:c=>L(c)}),s.jsx("section",{className:"see-all__main main-see-all",children:s.jsxs("div",{className:"main-see-all__container container",children:[s.jsx("div",{className:"results-filter-scenarios__top top",children:s.jsxs("div",{className:"top__title-block",children:[s.jsx("span",{className:"top__title-icon",children:s.jsx("img",{src:ss,alt:"search"})}),s.jsx("h2",{className:"top__title",children:`${y||"Results"}`})]})}),s.jsx(ts,{displayedData:f,isShowPlayButton:i}),!(f!=null&&f.length)&&!g?s.jsx(es,{}):s.jsx(X,{countElem:a==null?void 0:a.count,currentPage:l,countPageElem:b,setCurrentPage:c=>{n(c),u||window.scrollTo({behavior:"smooth",top:0})}})]})}),s.jsx(os,{}),s.jsx(rs,{}),s.jsx(ns,{})]})})})}const ts=r.memo(({displayedData:i,isShowPlayButton:o})=>s.jsx("div",{className:"main-see-all__row custom-main-see-all__row",children:i==null?void 0:i.map(e=>{var l;return s.jsx("div",{className:"main-see-all__column",children:s.jsxs("div",{className:"slide-slider__item casino-card",children:[s.jsx("div",{className:"casino-card__top",children:s.jsxs("div",{className:"casino-card__image-block",style:{padding:"0 8px 50.432% 8px"},children:[s.jsx(m,{rel:"nofollow noopener",to:`/casino/${e.casino_slug}/bonuses/${e.bonus_slug}`,"aria-label":"Put your description here.",className:"casino-card__image see-all-custom__image-custom",children:s.jsx(Y,{img:e==null?void 0:e.bonus_image,height:"100%",width:"100%"})},Z()),o&&s.jsx("a",{rel:"nofollow noopener",href:T(e==null?void 0:e.casino_name),onClick:n=>{n.stopPropagation(),n.preventDefault(),W(e==null?void 0:e.casino_affiliate_link),window.open((e==null?void 0:e.casino_affiliate_link)||(e==null?void 0:e.url_casino),"_blank","noopener,noreferrer")},"aria-label":"Put your description here.",className:"casino-card__bnt",children:"Play"})]})}),s.jsxs("div",{className:"casino-card__content",children:[s.jsx("div",{className:"casino-card__tags tags-casino-card",children:(l=e==null?void 0:e.labels)==null?void 0:l.sort((n,t)=>{const d=typeof n=="string"?n:(n==null?void 0:n.name)||"",u=typeof t=="string"?t:(t==null?void 0:t.name)||"";return d.localeCompare(u)}).map((n,t)=>s.jsx("div",{className:`tags-casino-card__item ${O(t)}`,children:s.jsx("span",{className:"tags-casino-card__item-label",children:typeof n=="string"?n:n==null?void 0:n.name})},t))}),s.jsxs("div",{className:"casino-card__info info-casino-card",children:[s.jsxs("div",{className:"info-casino-card__stake",children:[s.jsx(m,{rel:"nofollow noopener",to:`/casino/${e.casino_slug}`,"aria-label":"Put your description here.",className:"info-casino-card__stake-link",children:e==null?void 0:e.casino_name}),s.jsxs("div",{className:"info-casino-card__stake-rating",children:[s.jsx("span",{className:"info-casino-card__stake-rating-icon",children:s.jsx("img",{src:U,alt:"star"})}),s.jsx("span",{className:"info-casino-card__stake__rating-number",children:e==null?void 0:e.casino_rank})]})]}),s.jsxs("div",{className:"info-casino-card__likes",children:[s.jsx("span",{className:"info-casino-card__likes-icon",children:s.jsx("img",{src:K,alt:"like"})}),s.jsx("span",{className:"info-casino-card__likes-number",children:V(e==null?void 0:e.bonus_likes)})]})]}),s.jsx(m,{rel:"nofollow noopener",to:`/casino/${e.casino_slug}/bonuses/${e.bonus_slug}`,"aria-label":"Put your description here.",className:"casino-card__name",children:e==null?void 0:e.bonus_name})]})]})})})}));export{Ns as default};
